(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,r){"use strict";function a(t){return t?new Date(t).getFullYear():(new Date).getFullYear()}r.d(e,"a",function(){return a})},33:function(t,e,r){"use strict";var a=r(21),n=r(0),l=r.n(n),c=r(118),i=r(56),o=r(119),u=r(120),s=r(30),f=r.n(s),d=r(48),m=r(23),h=r(49),p=r.n(h),g=function(t,e){switch(e.type){case"FETCH_INIT":return Object(m.a)({},t,{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(m.a)({},t,{isLoading:!1,isError:!1,data:e.payload});case"FETCH_FAILURE":return Object(m.a)({},t,{isLoading:!1,isError:!0});default:throw new Error}};var x=r(116),y=r(117),v=r(122);function k(t){var e=t.selectedValue,r=t.handleChange;return l.a.createElement(l.a.Fragment,null,l.a.createElement(x.a,{style:{justifyContent:"center"},"aria-label":"select",name:"select",value:e,onChange:r,row:!0},l.a.createElement(y.a,{style:{margin:"0rem 1rem 0rem 2rem"},value:"t",control:l.a.createElement(v.a,{checked:"t"===e,name:"temperature"}),label:"Temperatures",labelPlacement:"end"}),l.a.createElement(y.a,{style:{margin:"0rem 1rem 0rem 2rem"},value:"p",control:l.a.createElement(v.a,{color:"primary",checked:"p"===e,name:"precipitation"}),label:"Precipitation",labelPlacement:"end"}),l.a.createElement(y.a,{style:{margin:"0rem 1rem 0rem 2rem"},value:"c",control:l.a.createElement(v.a,{color:"default",checked:"c"===e,name:"combined"}),label:"Combined",labelPlacement:"end"})))}var w=r(1);var b=r(15);var A={all:function(t){var e=20,r=20,a=30,n=30,l=w.l("#chart").style("background-color","lightyellow");if(t){var c=((w.h(t.map(function(t){return t.high}))+w.h(t.map(function(t){return t.low})))/2).toFixed(2),i=w.j().domain([w.i(t,function(t){return+t.low}),w.g(t,function(t){return+t.high})+5]).range([550-a,e]);l.append("g").attr("transform","translate(".concat(1500-r,",0)")).call(w.c(i).tickSize(1500-r-n)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-(1500-n-r-5)).attr("dy",15).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("\xb0C")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var o=w.k().domain(w.f(t,function(t){return new Date(t.date)})).range([n,1500-r]);l.append("g").attr("transform","translate(0,".concat(550-a,")")).call(w.b(o).tickSize(-(550-e-a))).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var u=w.a().curve(w.e).x(function(t){return o(new Date(t.date))}).y0(function(t){return i(+t.low)}).y1(function(t){return i(+t.high)});l.append("path").datum(t).attr("fill","#f50057").attr("d",u),l.append("text").attr("x",(1500-n-a)/2).attr("y",e+30).attr("text-anchor","middle").attr("font-size","1.25rem").text("Average daily temperature ".concat(c,"\xb0C"))}},years:function(t,e,r){var a=40,n=20,l=40,c=30;if(t){var i=e.filter(function(t){return t.high>=30}).length,o=e.filter(function(t){return t.low<=-5}).length,u=r.map(function(t){return{high:w.g(e.filter(function(e){return Object(b.a)(e.date)===t}).map(function(t){return+t.high})),low:w.i(e.filter(function(e){return Object(b.a)(e.date)===t}).map(function(t){return+t.low}))}}),s=w.l("#chart").style("background-color","lightyellow"),f=w.j().domain([w.i(t,function(t){return+t.low}),w.g(t,function(t){return+t.high})+5]).range([550-l,a]);s.select("#yAxis").remove(),s.append("g").attr("id","yAxis").attr("transform","translate(".concat(1500-n,",0)")).call(w.c(f).tickSize(1500-n-c)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-(1500-c-n-5)).attr("dy",15).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("\xb0C")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var d=w.k().domain(w.f(e,function(t){return new Date(t.date)})).range([c,1500-n]);s.select("#xAxis").remove(),s.append("g").attr("id","xAxis").attr("transform","translate(0,".concat(550-l,")")).call(w.b(d).ticks(0));var m=w.a().curve(w.e).x(function(t,r){return(r+1)*(1500-c-n)/e.length+c}).y0(function(t){return f(+t.low)}).y1(function(t){return f(+t.high)});s.selectAll("path:not(.domain)").remove(),s.append("path").datum(e).attr("fill","#f50057").attr("opacity",.5).attr("d",m),s.selectAll(".divider").remove(),s.selectAll(".divider").data(r).join("line").attr("class","divider").attr("x1",function(t,e){return e*(1500-c-n)/r.length+c}).attr("y1",a).attr("x2",function(t,e){return e*(1500-c-n)/r.length+c}).attr("y2",550-l+6).attr("stroke","#777").attr("stroke-dasharray","2,2"),s.selectAll(".label").remove();var h=w.j().domain([0,r.length]).range([c,1500-n]);s.selectAll(".label").data(r).join("text").attr("class","label").attr("x",function(t,e){return h(e)+1500/r.length/2}).attr("y",550-l/2.5).attr("text-anchor","middle").text(function(t){return t}).style("font-size","1.25rem").exit(),s.selectAll(".info").remove(),s.selectAll(".info").data(u).join("text").attr("class","info").attr("x",function(t,e){return h(e)+1500/r.length/2}).attr("y",a+25).attr("text-anchor","middle").text(function(t){return"\u2191".concat(t.high,"\xb0C  \u2193").concat(t.low,"\xb0C")}).style("font-size","1rem"),s.selectAll(".comment").remove(),r.length>0&&s.append("text").attr("class","comment").attr("x",(1500-a-l)/2).attr("y",a/1.5).attr("text-anchor","middle").text("Total shown ".concat(e.length," days  - \ud83e\udd75 ").concat(i," with high temp above 30\xb0C - \ud83e\udd76 ").concat(o," with low temp below -5\xb0C")).style("font-size","1.25rem")}}};var E={all:function(t){var e=20,r=20,a=30,n=30,l=w.l("#chart").style("background-color","lightyellow");if(t){var c=Math.round(30*w.h(t.map(function(t){return t.precip}))),i=w.j().domain([w.i(t,function(t){return+t.precip}),w.g(t,function(t){return+t.precip})+5]).range([550-a,e]);l.append("g").attr("transform","translate(".concat(1500-r,",0)")).call(w.c(i).tickSize(1500-r-n)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-(1500-n-r-5)).attr("dy",-40).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("mm")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var o=w.k().domain(w.f(t,function(t){return new Date(t.date)})).range([n,1500-r]);l.append("g").attr("transform","translate(0,".concat(550-a,")")).call(w.b(o).tickSize(-(550-e-a))).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2"),l.selectAll("rect").data(t).join("rect").attr("x",function(t){return o(new Date(t.date))}).attr("y",function(t){return i(+t.precip)}).attr("height",function(t){return 550-a-i(+t.precip)}).attr("width",(1500-n-r)/t.length).attr("fill","#3f51b5"),l.append("text").attr("x",(1500-n-a)/2).attr("y",e+30).attr("text-anchor","middle").attr("font-size","1.25rem").text("Average monthly precipitation ".concat(c,"mm"))}},years:function(t,e,r){var a=40,n=20,l=40,c=30;if(t){var i=e.filter(function(t){return+t.precip>0}).length,o=e.filter(function(t){return 0===+t.precip}).length,u=r.map(function(t){return e.reduce(function(e,r){var a=Object(b.a)(r.date);return t===a&&(e+=+r.precip),Math.round(e)},0)}),s=w.l("#chart").style("background-color","lightyellow"),f=w.j().domain([w.i(t,function(t){return+t.precip}),w.g(t,function(t){return+t.precip})+5]).range([550-l,a]);s.select("#yAxis").remove(),s.append("g").attr("id","yAxis").attr("transform","translate(".concat(1500-n,",0)")).call(w.c(f).tickSize(1500-n-c)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-(1500-c-n-5)).attr("dy",-35).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("mm")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var d=w.k().domain(w.f(e,function(t){return new Date(t.date)})).range([c,1500-n]);s.select("#xAxis").remove(),s.append("g").attr("id","xAxis").attr("transform","translate(0,".concat(550-l,")")).call(w.b(d).ticks(0)),s.selectAll("rect").remove(),s.selectAll("rect").data(e).join("rect").attr("x",function(t,r){return(r+1)*(1500-c-n)/e.length+c}).attr("y",function(t){return f(+t.precip)}).attr("height",function(t){return 550-l-f(+t.precip)}).attr("width",(1500-c-n)/e.length).attr("fill","#3f51b5").attr("opacity",.5).exit(),s.selectAll(".divider").remove(),s.selectAll(".divider").data(r).join("line").attr("class","divider").attr("x1",function(t,e){return e*(1500-c-n)/r.length+c}).attr("y1",a).attr("x2",function(t,e){return e*(1500-c-n)/r.length+c}).attr("y2",550-l+6).attr("stroke","#777").attr("stroke-dasharray","2,2"),s.selectAll(".label").remove();var m=w.j().domain([0,r.length]).range([c,1500-n]);s.selectAll(".label").data(r).join("text").attr("class","label").attr("x",function(t,e){return m(e)+1500/r.length/2}).attr("y",550-l/2.5).attr("text-anchor","middle").text(function(t){return t}).style("font-size","1.25rem").exit(),s.selectAll(".info").remove(),s.selectAll(".info").data(u).join("text").attr("class","info").attr("x",function(t,e){return m(e)+1500/r.length/2}).attr("y",a+25).attr("text-anchor","middle").text(function(t){return t+"mm"}).style("font-size","1.25rem"),s.selectAll(".comment").remove(),r.length>0&&s.append("text").attr("class","comment").attr("x",(1500-a-l)/2).attr("y",a/1.5).attr("text-anchor","middle").text("Total shown ".concat(e.length," days  - \ud83d\udca7 ").concat(i," with precipitation - \ud83c\udf1e ").concat(o," without precipitation")).style("font-size","1.25rem")}}};var j={all:function(t){var e=20,r=30,a=30,n=30,l=w.l("#chart").style("background-color","lightyellow");if(t){var c=t.temps,i=t.precip,o=w.j().domain([w.i(c,function(t){return+t.low}),w.g(c,function(t){return+t.high})+5]).range([550-a,e]),u=w.j().domain([w.i(i,function(t){return+t.precip}),w.g(i,function(t){return+t.precip})+5]).range([550-a,e]);l.append("g").attr("transform","translate(".concat(n,",0)")).call(w.c(o).tickSize(-(1500-r-n))).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",5).attr("dy",15).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("\xb0C")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2"),l.append("g").attr("transform","translate(".concat(1500-r,",0)")).call(w.d(u)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-5).attr("dy",-40).attr("text-anchor","end").attr("font-weight","bold").attr("font-size",".85rem").text("mm")});var s=w.k().domain(w.f(c,function(t){return new Date(t.date)})).range([n,1500-r]);l.append("g").attr("transform","translate(0,".concat(550-a,")")).call(w.b(s).tickSize(-(550-e-a))).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var f=w.a().curve(w.e).x(function(t){return s(new Date(t.date))}).y0(function(t){return o(+t.low)}).y1(function(t){return o(+t.high)});l.append("path").datum(c).attr("fill","#f50057").attr("d",f),l.selectAll("rect").data(i).join("rect").attr("x",function(t){return s(new Date(t.date))}).attr("y",function(t){return u(+t.precip)}).attr("height",function(t){return 550-a-u(+t.precip)}).attr("width",(1500-n-r)/i.length).attr("fill","#3f51b5")}},years:function(t,e,r,a){var n=40,l=30,c=40,i=30;if(t){var o=t.temps,u=t.precip,s=e.filter(function(t){return t.high>=30}).length,f=e.filter(function(t){return t.low<=-5}).length,d=a.map(function(t){return{high:w.g(e.filter(function(e){return Object(b.a)(e.date)===t}).map(function(t){return+t.high})),low:w.i(e.filter(function(e){return Object(b.a)(e.date)===t}).map(function(t){return+t.low}))}}),m=r.filter(function(t){return+t.precip>0}).length,h=r.filter(function(t){return 0===+t.precip}).length,p=a.map(function(t){return r.reduce(function(e,r){var a=Object(b.a)(r.date);return t===a&&(e+=+r.precip),Math.round(e)},0)}),g=w.l("#chart").style("background-color","lightyellow"),x=w.j().domain([w.i(o,function(t){return+t.low}),w.g(o,function(t){return+t.high})+5]).range([550-c,n]),y=w.j().domain([w.i(u,function(t){return+t.precip}),w.g(u,function(t){return+t.precip})+5]).range([550-c,n]);g.select("#yAxisTemp").remove(),g.append("g").attr("transform","translate(".concat(i,",0)")).attr("id","yAxisTemp").call(w.c(x).tickSize(-(1500-l-i))).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",3).attr("dy",20).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("\xb0C")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2"),g.select("#yAxisPrecip").remove(),g.append("g").attr("transform","translate(".concat(1500-l,",0)")).attr("id","yAxisPrecip").call(w.d(y)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-3).attr("dy",5).attr("text-anchor","end").attr("font-weight","bold").attr("font-size",".85rem").text("mm")});var v=w.k().domain(w.f(o,function(t){return new Date(t.date)})).range([i,1500-l]);g.select("#xAxis").remove(),g.append("g").attr("id","xAxis").attr("transform","translate(0,".concat(550-c,")")).call(w.b(v).ticks(0));var k=w.a().curve(w.e).x(function(t,r){return(r+1)*(1500-i-l)/e.length+i}).y0(function(t){return x(+t.low)}).y1(function(t){return x(+t.high)});g.selectAll("path:not(.domain)").remove(),g.append("path").datum(e).attr("fill","#f50057").attr("opacity",.5).attr("d",k),g.selectAll("rect").remove(),g.selectAll("rect").data(r).join("rect").attr("x",function(t,e){return(e+1)*(1500-i-l)/r.length+i}).attr("y",function(t){return y(+t.precip)}).attr("height",function(t){return 550-c-y(+t.precip)}).attr("width",(1500-i-l)/r.length).attr("fill","#3f51b5").attr("opacity",.5).exit(),g.selectAll(".divider").remove(),g.selectAll(".divider").data(a).join("line").attr("class","divider").attr("x1",function(t,e){return e*(1500-i-l)/a.length+i}).attr("y1",n).attr("x2",function(t,e){return e*(1500-i-l)/a.length+i}).attr("y2",550-c+6).attr("stroke","#777").attr("stroke-dasharray","2,2"),g.selectAll(".label").remove();var A=w.j().domain([0,a.length]).range([i,1500-l]);g.selectAll(".label").data(a).join("text").attr("class","label").attr("x",function(t,e){return A(e)+1500/a.length/2}).attr("y",550-c/2.5).attr("text-anchor","middle").text(function(t){return t}).style("font-size","1.25rem").exit(),g.selectAll(".tempInfo").remove(),g.selectAll(".tempInfo").data(d).join("text").attr("class","tempInfo").attr("x",function(t,e){return A(e)+1500/a.length/2}).attr("y",n+25).attr("text-anchor","middle").text(function(t){return"\u2191".concat(t.high,"\xb0C  \u2193").concat(t.low,"\xb0C")}).style("font-size","1rem"),g.selectAll(".precipInfo").remove(),g.selectAll(".precipInfo").data(p).join("text").attr("class","precipInfo").attr("x",function(t,e){return A(e)+1500/a.length/2}).attr("y",n+60).attr("text-anchor","middle").text(function(t){return t+"mm"}).style("font-size","1.25rem"),g.selectAll(".comment").remove(),a.length>0&&g.append("text").attr("class","comment").attr("x",(1500-n-c)/2).attr("y",n/1.5).attr("text-anchor","middle").text("Total shown ".concat(e.length," days  - \ud83e\udd75 ").concat(s," above 30\xb0C - \ud83e\udd76 ").concat(f," below -5\xb0C - \ud83d\udca7 ").concat(m," with precipitation - \ud83c\udf1e ").concat(h," without precipitation")).style("font-size","1.25rem")}}};r.d(e,"a",function(){return S}),r.d(e,"b",function(){return T});var z=l.a.lazy(function(){return Promise.all([r.e(3),r.e(4)]).then(r.bind(null,126))}),C="/api/all",S=Object(n.createContext)(null);function T(){var t=function(t,e){var r=Object(n.useState)(t),l=Object(a.a)(r,2),c=l[0],i=l[1],o=Object(n.useReducer)(g,{isLoading:!1,isError:!1,data:e}),u=Object(a.a)(o,2),s=u[0],m=u[1];return Object(n.useEffect)(function(){var t=!1;return function(){var e=Object(d.a)(f.a.mark(function e(){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m({type:"FETCH_INIT"}),e.prev=1,e.next=4,p()(c);case 4:r=e.sent,t||m({type:"FETCH_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t||m({type:"FETCH_FAILURE"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}()(),function(){t=!0}},[c]),[s,i]}(C,[]),e=Object(a.a)(t,1)[0],r=e.data,s=e.isLoading,m=e.isError,h=l.a.useState("t"),x=Object(a.a)(h,2),y=x[0],v=x[1];return l.a.createElement(c.a,{maxWidth:"xl",style:{height:"100vh",paddingTop:"1.5rem",backgroundColor:"#e3f2fd"}},l.a.createElement(i.a,{variant:"h4",align:"center"},"Historical weather data for Subotica, Serbia"),l.a.createElement(i.a,{variant:"h5",align:"center"},"collected from"," ",l.a.createElement(o.a,{href:"http://www.sumeteo.info/",target:"_blank",rel:"noopener noreferrer"},"www.sumeteo.info")),s?l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{variant:"h5",align:"center",style:{marginTop:"3rem"}},"Collecting data..."),l.a.createElement(u.a,{disableShrink:!0,size:50,thickness:3,variant:"indeterminate",style:{position:"relative",left:"48%",marginTop:"2rem"}})):l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{selectedValue:y,handleChange:function(t){v(t.target.value)}}),l.a.createElement(n.Suspense,{fallback:l.a.createElement(u.a,{disableShrink:!0,size:70,thickness:4,variant:"indeterminate",style:{position:"relative",left:"50%"}})},l.a.createElement(function(){switch(y){case"t":return l.a.createElement(S.Provider,{value:{data:r.temps,isLoading:s,isError:m,chartFunc:A}},l.a.createElement(z,{type:"Temperature range"}));case"p":return l.a.createElement(S.Provider,{value:{data:r.precip,isLoading:s,isError:m,chartFunc:E}},l.a.createElement(z,{type:"Precipitation"}));case"c":return l.a.createElement(S.Provider,{value:{data:r,isLoading:s,isError:m,chartFunc:j}},l.a.createElement(z,{type:"Temperature range and precipitation",combine:!0}));default:return null}},null))))}},61:function(t,e,r){t.exports=r(62)},62:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r.n(a),l=r(16),c=r.n(l),i=(r(67),r(33));c.a.render(n.a.createElement(i.b,null),document.getElementById("root"))},67:function(t,e,r){}},[[61,1,2]]]);
//# sourceMappingURL=main.cf96a266.chunk.js.map