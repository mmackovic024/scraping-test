(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,r){"use strict";function a(t){return t?new Date(t).getFullYear():(new Date).getFullYear()}r.d(e,"a",function(){return a})},33:function(t,e,r){"use strict";var a=r(21),n=r(0),c=r.n(n),l=r(118),i=r(56),o=r(119),u=r(120),s=r(30),f=r.n(s),d=r(48),m=r(23),h=r(49),p=r.n(h),g=function(t,e){switch(e.type){case"FETCH_INIT":return Object(m.a)({},t,{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(m.a)({},t,{isLoading:!1,isError:!1,data:e.payload});case"FETCH_FAILURE":return Object(m.a)({},t,{isLoading:!1,isError:!0});default:throw new Error}};var x=r(116),y=r(117),v=r(122);function w(t){var e=t.selectedValue,r=t.handleChange;return c.a.createElement(x.a,{style:{justifyContent:"center"},"aria-label":"select",name:"select",value:e,onChange:r,row:!0},c.a.createElement(y.a,{style:{margin:"0rem 1rem 0rem 2rem"},value:"t",control:c.a.createElement(v.a,{checked:"t"===e,name:"temperature"}),label:"Temperatures",labelPlacement:"end"}),c.a.createElement(y.a,{style:{margin:"0rem 1rem 0rem 2rem"},value:"p",control:c.a.createElement(v.a,{color:"primary",checked:"p"===e,name:"precipitation"}),label:"Precipitation",labelPlacement:"end"}),c.a.createElement(y.a,{style:{margin:"0rem 1rem 0rem 2rem"},value:"c",control:c.a.createElement(v.a,{color:"default",checked:"c"===e,name:"combined"}),label:"Combined",labelPlacement:"end"}))}var b=r(1);var k=r(15);var A={all:function(t){var e=20,r=20,a=30,n=30,c=b.l("#chart").style("background-color","lightyellow");if(t){var l=((b.h(t.map(function(t){return t.high}))+b.h(t.map(function(t){return t.low})))/2).toFixed(2),i=b.j().domain([b.i(t,function(t){return+t.low}),b.g(t,function(t){return+t.high})+5]).range([550-a,e]);c.append("g").attr("transform","translate(".concat(1500-r,",0)")).call(b.c(i).tickSize(1500-r-n)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-(1500-n-r-5)).attr("dy",15).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("\xb0C")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var o=b.k().domain(b.f(t,function(t){return new Date(t.date)})).range([n,1500-r]);c.append("g").attr("transform","translate(0,".concat(550-a,")")).call(b.b(o).tickSize(-(550-e-a))).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var u=b.a().curve(b.e).x(function(t){return o(new Date(t.date))}).y0(function(t){return i(+t.low)}).y1(function(t){return i(+t.high)});c.append("path").datum(t).attr("fill","#f50057").attr("d",u),c.append("text").attr("x",(1500-n-a)/2).attr("y",e+30).attr("text-anchor","middle").attr("font-size","1.25rem").text("Average daily temperature ".concat(l,"\xb0C"))}},years:function(t,e,r){var a=40,n=20,c=40,l=30;if(t){var i=e.filter(function(t){return t.high>=30}).length,o=e.filter(function(t){return t.low<=-5}).length,u=r.map(function(t){return{high:b.g(e.filter(function(e){return Object(k.a)(e.date)===t}).map(function(t){return+t.high})),low:b.i(e.filter(function(e){return Object(k.a)(e.date)===t}).map(function(t){return+t.low}))}}),s=b.l("#chart").style("background-color","lightyellow"),f=b.j().domain([b.i(t,function(t){return+t.low}),b.g(t,function(t){return+t.high})+5]).range([550-c,a]);s.select("#yAxis").remove(),s.append("g").attr("id","yAxis").attr("transform","translate(".concat(1500-n,",0)")).call(b.c(f).tickSize(1500-n-l)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-(1500-l-n-5)).attr("dy",15).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("\xb0C")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var d=b.k().domain(b.f(e,function(t){return new Date(t.date)})).range([l,1500-n]);s.select("#xAxis").remove(),s.append("g").attr("id","xAxis").attr("transform","translate(0,".concat(550-c,")")).call(b.b(d).ticks(0));var m=b.a().curve(b.e).x(function(t,r){return(r+1)*(1500-l-n)/e.length+l}).y0(function(t){return f(+t.low)}).y1(function(t){return f(+t.high)});s.selectAll("path:not(.domain)").remove(),s.append("path").datum(e).attr("fill","#f50057").attr("opacity",.5).attr("d",m),s.selectAll(".divider").remove(),s.selectAll(".divider").data(r).join("line").attr("class","divider").attr("x1",function(t,e){return e*(1500-l-n)/r.length+l}).attr("y1",a).attr("x2",function(t,e){return e*(1500-l-n)/r.length+l}).attr("y2",550-c+6).attr("stroke","#777").attr("stroke-dasharray","2,2"),s.selectAll(".label").remove();var h=b.j().domain([0,r.length]).range([l,1500-n]);s.selectAll(".label").data(r).join("text").attr("class","label").attr("x",function(t,e){return h(e)+1500/r.length/2}).attr("y",550-c/2.5).attr("text-anchor","middle").text(function(t){return t}).style("font-size","1.25rem").exit(),s.selectAll(".info").remove(),s.selectAll(".info").data(u).join("text").attr("class","info").attr("x",function(t,e){return h(e)+1500/r.length/2}).attr("y",a+25).attr("text-anchor","middle").text(function(t){return"\u2191".concat(t.high,"\xb0C  \u2193").concat(t.low,"\xb0C")}).style("font-size","1rem"),s.selectAll(".comment").remove(),r.length>0&&s.append("text").attr("class","comment").attr("x",(1500-a-c)/2).attr("y",a/1.5).attr("text-anchor","middle").text("Total shown ".concat(e.length," days  - \ud83e\udd75 ").concat(i," with high temp above 30\xb0C - \ud83e\udd76 ").concat(o," with low temp below -5\xb0C")).style("font-size","1.25rem")}}};var j={all:function(t){var e=20,r=20,a=30,n=30,c=b.l("#chart").style("background-color","lightyellow");if(t){var l=Math.round(30*b.h(t.map(function(t){return t.precip}))),i=b.j().domain([b.i(t,function(t){return+t.precip}),b.g(t,function(t){return+t.precip})+5]).range([550-a,e]);c.append("g").attr("transform","translate(".concat(1500-r,",0)")).call(b.c(i).tickSize(1500-r-n)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-(1500-n-r-5)).attr("dy",-40).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("mm")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var o=b.k().domain(b.f(t,function(t){return new Date(t.date)})).range([n,1500-r]);c.append("g").attr("transform","translate(0,".concat(550-a,")")).call(b.b(o).tickSize(-(550-e-a))).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2"),c.selectAll("rect").data(t).join("rect").attr("x",function(t){return o(new Date(t.date))}).attr("y",function(t){return i(+t.precip)}).attr("height",function(t){return 550-a-i(+t.precip)}).attr("width",(1500-n-r)/t.length).attr("fill","#3f51b5"),c.append("text").attr("x",(1500-n-a)/2).attr("y",e+30).attr("text-anchor","middle").attr("font-size","1.25rem").text("Average monthly precipitation ".concat(l,"mm"))}},years:function(t,e,r){var a=40,n=20,c=40,l=30;if(t){var i=e.filter(function(t){return+t.precip>0}).length,o=e.filter(function(t){return 0===+t.precip}).length,u=r.map(function(t){return e.reduce(function(e,r){var a=Object(k.a)(r.date);return t===a&&(e+=+r.precip),Math.round(e)},0)}),s=b.l("#chart").style("background-color","lightyellow"),f=b.j().domain([b.i(t,function(t){return+t.precip}),b.g(t,function(t){return+t.precip})+5]).range([550-c,a]);s.select("#yAxis").remove(),s.append("g").attr("id","yAxis").attr("transform","translate(".concat(1500-n,",0)")).call(b.c(f).tickSize(1500-n-l)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-(1500-l-n-5)).attr("dy",-35).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("mm")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var d=b.k().domain(b.f(e,function(t){return new Date(t.date)})).range([l,1500-n]);s.select("#xAxis").remove(),s.append("g").attr("id","xAxis").attr("transform","translate(0,".concat(550-c,")")).call(b.b(d).ticks(0)),s.selectAll("rect").remove(),s.selectAll("rect").data(e).join("rect").attr("x",function(t,r){return(r+1)*(1500-l-n)/e.length+l}).attr("y",function(t){return f(+t.precip)}).attr("height",function(t){return 550-c-f(+t.precip)}).attr("width",(1500-l-n)/e.length).attr("fill","#3f51b5").attr("opacity",.5).exit(),s.selectAll(".divider").remove(),s.selectAll(".divider").data(r).join("line").attr("class","divider").attr("x1",function(t,e){return e*(1500-l-n)/r.length+l}).attr("y1",a).attr("x2",function(t,e){return e*(1500-l-n)/r.length+l}).attr("y2",550-c+6).attr("stroke","#777").attr("stroke-dasharray","2,2"),s.selectAll(".label").remove();var m=b.j().domain([0,r.length]).range([l,1500-n]);s.selectAll(".label").data(r).join("text").attr("class","label").attr("x",function(t,e){return m(e)+1500/r.length/2}).attr("y",550-c/2.5).attr("text-anchor","middle").text(function(t){return t}).style("font-size","1.25rem").exit(),s.selectAll(".info").remove(),s.selectAll(".info").data(u).join("text").attr("class","info").attr("x",function(t,e){return m(e)+1500/r.length/2}).attr("y",a+25).attr("text-anchor","middle").text(function(t){return t+"mm"}).style("font-size","1.25rem"),s.selectAll(".comment").remove(),r.length>0&&s.append("text").attr("class","comment").attr("x",(1500-a-c)/2).attr("y",a/1.5).attr("text-anchor","middle").text("Total shown ".concat(e.length," days  - \ud83d\udca7 ").concat(i," with precipitation - \ud83c\udf1e ").concat(o," without precipitation")).style("font-size","1.25rem")}}};var E={all:function(t){var e=20,r=30,a=30,n=30,c=b.l("#chart").style("background-color","lightyellow");if(t){var l=t.temps,i=t.precip,o=b.j().domain([b.i(l,function(t){return+t.low}),b.g(l,function(t){return+t.high})+5]).range([550-a,e]),u=b.j().domain([b.i(i,function(t){return+t.precip}),b.g(i,function(t){return+t.precip})+5]).range([550-a,e]);c.append("g").attr("transform","translate(".concat(n,",0)")).call(b.c(o).tickSize(-(1500-r-n))).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",5).attr("dy",15).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("\xb0C")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2"),c.append("g").attr("transform","translate(".concat(1500-r,",0)")).call(b.d(u)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-5).attr("dy",-40).attr("text-anchor","end").attr("font-weight","bold").attr("font-size",".85rem").text("mm")});var s=b.k().domain(b.f(l,function(t){return new Date(t.date)})).range([n,1500-r]);c.append("g").attr("transform","translate(0,".concat(550-a,")")).call(b.b(s).tickSize(-(550-e-a))).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2");var f=b.a().curve(b.e).x(function(t){return s(new Date(t.date))}).y0(function(t){return o(+t.low)}).y1(function(t){return o(+t.high)});c.append("path").datum(l).attr("fill","#f50057").attr("d",f),c.selectAll("rect").data(i).join("rect").attr("x",function(t){return s(new Date(t.date))}).attr("y",function(t){return u(+t.precip)}).attr("height",function(t){return 550-a-u(+t.precip)}).attr("width",(1500-n-r)/i.length).attr("fill","#3f51b5")}},years:function(t,e,r,a){var n=40,c=30,l=40,i=30;if(t){var o=t.temps,u=t.precip,s=e.filter(function(t){return t.high>=30}).length,f=e.filter(function(t){return t.low<=-5}).length,d=a.map(function(t){return{high:b.g(e.filter(function(e){return Object(k.a)(e.date)===t}).map(function(t){return+t.high})),low:b.i(e.filter(function(e){return Object(k.a)(e.date)===t}).map(function(t){return+t.low}))}}),m=r.filter(function(t){return+t.precip>0}).length,h=r.filter(function(t){return 0===+t.precip}).length,p=a.map(function(t){return r.reduce(function(e,r){var a=Object(k.a)(r.date);return t===a&&(e+=+r.precip),Math.round(e)},0)}),g=b.l("#chart").style("background-color","lightyellow"),x=b.j().domain([b.i(o,function(t){return+t.low}),b.g(o,function(t){return+t.high})+5]).range([550-l,n]),y=b.j().domain([b.i(u,function(t){return+t.precip}),b.g(u,function(t){return+t.precip})+5]).range([550-l,n]);g.select("#yAxisTemp").remove(),g.append("g").attr("transform","translate(".concat(i,",0)")).attr("id","yAxisTemp").call(b.c(x).tickSize(-(1500-c-i))).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",3).attr("dy",20).attr("text-anchor","start").attr("font-weight","bold").attr("font-size",".85rem").text("\xb0C")}).selectAll(".tick:not(:first-child) line").attr("stroke","#777").attr("stroke-dasharray","2,2"),g.select("#yAxisPrecip").remove(),g.append("g").attr("transform","translate(".concat(1500-c,",0)")).attr("id","yAxisPrecip").call(b.d(y)).call(function(t){return t.select(".tick:last-of-type text").clone().attr("x",-3).attr("dy",5).attr("text-anchor","end").attr("font-weight","bold").attr("font-size",".85rem").text("mm")});var v=b.k().domain(b.f(o,function(t){return new Date(t.date)})).range([i,1500-c]);g.select("#xAxis").remove(),g.append("g").attr("id","xAxis").attr("transform","translate(0,".concat(550-l,")")).call(b.b(v).ticks(0));var w=b.a().curve(b.e).x(function(t,r){return(r+1)*(1500-i-c)/e.length+i}).y0(function(t){return x(+t.low)}).y1(function(t){return x(+t.high)});g.selectAll("path:not(.domain)").remove(),g.append("path").datum(e).attr("fill","#f50057").attr("opacity",.5).attr("d",w),g.selectAll("rect").remove(),g.selectAll("rect").data(r).join("rect").attr("x",function(t,e){return(e+1)*(1500-i-c)/r.length+i}).attr("y",function(t){return y(+t.precip)}).attr("height",function(t){return 550-l-y(+t.precip)}).attr("width",(1500-i-c)/r.length).attr("fill","#3f51b5").attr("opacity",.5).exit(),g.selectAll(".divider").remove(),g.selectAll(".divider").data(a).join("line").attr("class","divider").attr("x1",function(t,e){return e*(1500-i-c)/a.length+i}).attr("y1",n).attr("x2",function(t,e){return e*(1500-i-c)/a.length+i}).attr("y2",550-l+6).attr("stroke","#777").attr("stroke-dasharray","2,2"),g.selectAll(".label").remove();var A=b.j().domain([0,a.length]).range([i,1500-c]);g.selectAll(".label").data(a).join("text").attr("class","label").attr("x",function(t,e){return A(e)+1500/a.length/2}).attr("y",550-l/2.5).attr("text-anchor","middle").text(function(t){return t}).style("font-size","1.25rem").exit(),g.selectAll(".tempInfo").remove(),g.selectAll(".tempInfo").data(d).join("text").attr("class","tempInfo").attr("x",function(t,e){return A(e)+1500/a.length/2}).attr("y",n+25).attr("text-anchor","middle").text(function(t){return"\u2191".concat(t.high,"\xb0C  \u2193").concat(t.low,"\xb0C")}).style("font-size","1rem"),g.selectAll(".precipInfo").remove(),g.selectAll(".precipInfo").data(p).join("text").attr("class","precipInfo").attr("x",function(t,e){return A(e)+1500/a.length/2}).attr("y",n+60).attr("text-anchor","middle").text(function(t){return t+"mm"}).style("font-size","1.25rem"),g.selectAll(".comment").remove(),a.length>0&&g.append("text").attr("class","comment").attr("x",(1500-n-l)/2).attr("y",n/1.5).attr("text-anchor","middle").text("Total shown ".concat(e.length," days  - \ud83e\udd75 ").concat(s," above 30\xb0C - \ud83e\udd76 ").concat(f," below -5\xb0C - \ud83d\udca7 ").concat(m," with precipitation - \ud83c\udf1e ").concat(h," without precipitation")).style("font-size","1.25rem")}}};r.d(e,"a",function(){return S}),r.d(e,"b",function(){return O});var z=c.a.lazy(function(){return Promise.all([r.e(3),r.e(4)]).then(r.bind(null,126))}),C="http://localhost:5000/api/all",S=Object(n.createContext)(null);function O(){var t=function(t,e){var r=Object(n.useState)(t),c=Object(a.a)(r,2),l=c[0],i=c[1],o=Object(n.useReducer)(g,{isLoading:!1,isError:!1,data:e}),u=Object(a.a)(o,2),s=u[0],m=u[1];return Object(n.useEffect)(function(){var t=!1;return function(){var e=Object(d.a)(f.a.mark(function e(){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m({type:"FETCH_INIT"}),e.prev=1,e.next=4,p()(l);case 4:r=e.sent,t||m({type:"FETCH_SUCCESS",payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t||m({type:"FETCH_FAILURE"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}()(),function(){t=!0}},[l]),[s,i]}(C,[]),e=Object(a.a)(t,1)[0],r=e.data,s=e.isLoading,m=e.isError,h=c.a.useState("t"),x=Object(a.a)(h,2),y=x[0],v=x[1];return c.a.createElement(l.a,{maxWidth:"xl",style:{height:"100vh",paddingTop:"1.5rem",backgroundColor:"#e3f2fd"}},c.a.createElement(i.a,{variant:"h4",align:"center"},"Historical weather data for Subotica, Serbia"),c.a.createElement(i.a,{variant:"h5",align:"center"},"collected from"," ",c.a.createElement(o.a,{href:"http://www.sumeteo.info/",target:"_blank",rel:"noopener noreferrer"},"www.sumeteo.info")),c.a.createElement(w,{selectedValue:y,handleChange:function(t){v(t.target.value)}}),c.a.createElement(n.Suspense,{fallback:c.a.createElement(u.a,{disableShrink:!0,size:70,thickness:4,variant:"indeterminate",style:{position:"relative",left:"50%"}})},c.a.createElement(function(){switch(y){case"t":return c.a.createElement(S.Provider,{value:{data:r.temps,isLoading:s,isError:m,chartFunc:A}},c.a.createElement(z,{type:"Temperature range"}));case"p":return c.a.createElement(S.Provider,{value:{data:r.precip,isLoading:s,isError:m,chartFunc:j}},c.a.createElement(z,{type:"Precipitation"}));case"c":return c.a.createElement(S.Provider,{value:{data:r,isLoading:s,isError:m,chartFunc:E}},c.a.createElement(z,{type:"Temperature range and precipitation",combine:!0}));default:return null}},null)))}},61:function(t,e,r){t.exports=r(62)},62:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r.n(a),c=r(16),l=r.n(c),i=(r(67),r(33));l.a.render(n.a.createElement(i.b,null),document.getElementById("root"))},67:function(t,e,r){}},[[61,1,2]]]);
//# sourceMappingURL=main.01c11d0e.chunk.js.map